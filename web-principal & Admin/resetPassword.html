<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>إعادة تعيين كلمة السر</title>
    <link href="register.css" rel="stylesheet" >

</head>
<body>
    <div class="center">
        <h1 class=""> إعادة تعيين كلمة السر</h1>
        <form id="reset">
         
            
        

        <div class="inputbox">
            
            
            <input type="email" required="required"  id="emailInp">
            <span>البريد الإلكتروني</span>
            
          </div>
          <h4> يرجى إدخال البريد الإلكتروني المسجل في النظام -</h4>
          <div class="inputbox">
            <button type="text" id="subButton" class="btn"  >  إرسال</button>
          </div>
    </form>
        
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-app.js";
        import { getAuth, sendPasswordResetEmail } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-auth.js";
        import { getFirestore } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-firestore.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.12.1/firebase-analytics.js";
        
        const firebaseConfig = {
             apiKey: "AIzaSyAk1XvudFS302cnbhPpnIka94st5nA23ZE",
             authDomain: "halaqa-89b43.firebaseapp.com",
             projectId: "halaqa-89b43",
             storageBucket: "halaqa-89b43.appspot.com",
             messagingSenderId: "969971486820",
             appId: "1:969971486820:web:40cc0abf19a909cc470f71",
             measurementId: "G-PCYTHJF1SD"
        };
           const app = initializeApp(firebaseConfig);
           const analytics = getAnalytics(app);

           const Email=document.getElementById("emailInp");
           const submit=document.getElementById("subButton");
           const resetForm=document.getElementById("reset");

           const auth = getAuth();
           submit.addEventListener('click',  async (e) => {
         e.preventDefault()
         sendPasswordResetEmail(auth, Email.value)
         .then(() => {
           alert("تم إرسال بريد إلكتروني لإعادة تعيين كلمة المرور");
           resetForm.reset();

          })
          .catch((error) => {
             alert(error.message);
             const errorCode = error.code;
             const errorMessage = error.message;
       });
    });
    


    </script>


    
</body>
</html>